@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-dark-border;
  }
  
  body {
    @apply bg-dark-bg text-white antialiased;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }
}

/* Custom scrollbar - colorful yet subtle */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, #764ba2 0%, #667eea 100%);
}

/* Smooth transitions */
* {
  transition-duration: 200ms;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Button and interactive elements */
button {
  @apply transition-all duration-200;
}

button:active {
  @apply scale-95;
}

/* Input focus styles */
input:focus,
textarea:focus,
select:focus {
  @apply outline-none ring-2 ring-primary-500 ring-opacity-50;
}

/* Markdown Styles */
.prose {
  @apply max-w-none text-gray-200;
}

.prose h1,
.prose h2,
.prose h3,
.prose h4 {
  @apply text-white font-semibold mb-3 mt-6;
}

.prose h1 {
  @apply text-2xl;
}

.prose h2 {
  @apply text-xl;
}

.prose h3 {
  @apply text-lg;
}

.prose p {
  @apply mb-4 leading-relaxed;
}

.prose ul,
.prose ol {
  @apply mb-4 pl-6;
}

.prose li {
  @apply mb-2;
}

.prose code {
  @apply bg-primary-900/30 text-primary-300 px-2 py-1 rounded text-sm;
}

.prose pre {
  @apply bg-dark-card p-4 rounded-xl overflow-x-auto mb-4 border border-dark-border;
}

.prose pre code {
  @apply bg-transparent text-gray-300 p-0;
}

.prose strong {
  @apply text-white font-semibold;
}

.prose a {
  @apply text-primary-400 hover:text-primary-300 underline;
}

.prose blockquote {
  @apply border-l-4 border-primary-500 pl-4 italic text-gray-400 my-4;
}

/* Gradient text effect */
.gradient-text {
  @apply bg-clip-text text-transparent bg-gradient-to-r from-primary-400 via-accent-purple to-accent-pink;
}

/* Glass morphism effect */
.glass {
  @apply bg-white/5 backdrop-blur-lg border border-white/10;
}

/* Card hover effects */
.card-hover {
  @apply transition-all duration-300 hover:shadow-2xl hover:shadow-primary-500/20 hover:-translate-y-1;
}

/* Glowing border effect */
.glow-border {
  @apply relative;
}

.glow-border::before {
  content: '';
  @apply absolute inset-0 rounded-xl bg-gradient-to-r from-primary-500 to-accent-purple opacity-0 transition-opacity duration-300;
  filter: blur(20px);
  z-index: -1;
}

.glow-border:hover::before {
  @apply opacity-50;
}

/* Loading spinner */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.spinner {
  @apply inline-block w-4 h-4 border-2 border-white/30 border-t-white rounded-full;
  animation: spin 0.6s linear infinite;
}

/* Feature cards with gradient borders */
.feature-card {
  @apply relative bg-dark-card rounded-xl p-6 overflow-hidden;
}

.feature-card::before {
  content: '';
  @apply absolute inset-0 rounded-xl;
  padding: 2px;
  background: linear-gradient(135deg, #667eea, #764ba2, #f472b6);
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
}

/* Video player container */
.video-container {
  @apply relative rounded-xl overflow-hidden bg-black/50;
  aspect-ratio: 16/9;
}

/* Quiz option styles */
.quiz-option {
  @apply bg-dark-card border-2 border-dark-border rounded-lg p-4 cursor-pointer transition-all;
}

.quiz-option:hover {
  @apply border-primary-500 bg-dark-hover;
}

.quiz-option.selected {
  @apply border-primary-500 bg-primary-500/20;
}

.quiz-option.correct {
  @apply border-green-500 bg-green-500/20;
}

.quiz-option.incorrect {
  @apply border-red-500 bg-red-500/20;
}

/* Flashcard flip animation */
.flashcard {
  @apply relative w-full h-64 cursor-pointer;
  perspective: 1000px;
}

.flashcard-inner {
  @apply relative w-full h-full transition-transform duration-500;
  transform-style: preserve-3d;
}

.flashcard.flipped .flashcard-inner {
  transform: rotateY(180deg);
}

.flashcard-front,
.flashcard-back {
  @apply absolute w-full h-full bg-dark-card border border-dark-border rounded-xl p-6 flex items-center justify-center;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

.flashcard-back {
  transform: rotateY(180deg);
}

/* Tooltip */
.tooltip {
  @apply absolute invisible opacity-0 bg-dark-card border border-dark-border rounded-lg px-3 py-2 text-sm transition-all duration-200;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%) translateY(-8px);
}

.tooltip-trigger:hover .tooltip {
  @apply visible opacity-100;
}

/* Badge styles */
.badge {
  @apply inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium;
}

.badge-primary {
  @apply bg-primary-500/20 text-primary-300 border border-primary-500/30;
}

.badge-success {
  @apply bg-green-500/20 text-green-300 border border-green-500/30;
}

.badge-warning {
  @apply bg-yellow-500/20 text-yellow-300 border border-yellow-500/30;
}

.badge-error {
  @apply bg-red-500/20 text-red-300 border border-red-500/30;
}

/* Progress bar */
.progress-bar {
  @apply w-full h-2 bg-dark-border rounded-full overflow-hidden;
}

.progress-fill {
  @apply h-full bg-gradient-to-r from-primary-500 to-accent-purple transition-all duration-500;
}

/* Pulse animation for notifications */
@keyframes pulse-ring {
  0% {
    transform: scale(0.95);
    opacity: 1;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.7;
  }
  100% {
    transform: scale(0.95);
    opacity: 1;
  }
}

.pulse-ring {
  animation: pulse-ring 2s ease-in-out infinite;
}

/* Shimmer loading effect */
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.shimmer {
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(255, 255, 255, 0.1) 50%, 
    transparent 100%
  );
  background-size: 1000px 100%;
  animation: shimmer 2s infinite;
}
